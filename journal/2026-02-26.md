# 2026-02-26 (Day 4)

## 오늘 한 것

Ubuntu VM에서 디스크 사용량을 확인하는 방법을 공부했다.

df 명령어로 전체 디스크 사용량을 확인했고, fallocate 명령어로 큰 파일을 만들어 일부러 디스크 사용량을 90% 이상까지 올려봤다.

그 다음 du 명령어를 사용해서 어떤 경로에서 용량을 많이 사용하는지 찾는 연습을 했다. 큰 폴더부터 하나씩 내려가면서 찾는 방식으로 확인했다.

루트 경로에 생성했던 bigfile1 파일이 원인이라는 것을 확인하고 삭제했다. 삭제 후 df 명령어로 사용량이 다시 정상으로 돌아온 것도 확인했다.

또 파일은 삭제했는데 디스크 용량이 줄어들지 않는 경우가 있다는 것을 알게 되었고, 그런 경우에는 lsof 명령어로 삭제된 파일이 사용중인지 확인할 수 있다는 것을 배웠다.

inode라는 개념도 처음 알게 되었는데 디스크 용량이 남아 있어도 파일 개수가 많으면 문제가 생길 수 있다는 것을 이해했다. df -i 명령어로 inode 사용량을 확인할 수 있다는 것도 배웠다.

du 명령어에서 --max-depth=1 옵션이 어떤 의미인지도 이해했다. 한 단계 아래까지만 보여주기 때문에 용량을 찾기 쉬운 것 같다.


## 기억할 것

- df는 디스크 상태 확인할 때 제일 먼저 사용하는 명령어
- df는 문제 확인과 해결 확인 둘 다에 사용된다
- du는 어떤 폴더가 용량을 많이 쓰는지 찾을 때 사용한다
- 큰 폴더부터 내려가면서 찾는다
- 삭제했는데 공간이 안 줄면 lsof 확인
- inode 부족도 디스크 문제 원인이 될 수 있다


## 느낀 점

디스크 장애 상황을 직접 만들어보니까 이해가 잘 됐다.

생각보다 명령어는 어렵지 않았는데 왜 사용하는지 알게 된 게 도움이 된 것 같다.

특히 df 명령어가 시작이자 마지막 확인이라는 점이 기억에 남는다.

새로운 내용을 배우는 게 재미있어서 계속 하고 싶다는 생각이 들었다.


## 내일 할 것

- 로그 파일 위치 확인하기
- /var/log 구조 알아보기
- journalctl 명령어 공부하기